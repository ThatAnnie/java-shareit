DROP TABLE IF EXISTS items, users CASCADE;

CREATE TABLE IF NOT EXISTS users
(
    user_id    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
    name VARCHAR   NOT NULL,
    email VARCHAR   NOT NULL,
    CONSTRAINT uc_user_email UNIQUE (email)
);

CREATE TABLE IF NOT EXISTS items
(
    item_id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
    name VARCHAR   NOT NULL,
    description VARCHAR   NOT NULL,
    is_available BOOLEAN   NOT NULL,
    user_id BIGINT,
    CONSTRAINT fk_items_owner_id FOREIGN KEY(user_id) REFERENCES users (user_id) ON DELETE CASCADE
);